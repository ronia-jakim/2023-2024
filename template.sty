\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{template}

\RequirePackage[T1]{fontenc}
\RequirePackage[utf8]{inputenc}

\RequirePackage[fontsize=12pt]{fontsize}

\RequirePackage{geometry}
\geometry {
    a4paper,
    total={170mm, 257mm}
}

\RequirePackage[default]{sourcesanspro} % czcionka
\RequirePackage{mathastext}

\RequirePackage{microtype}

\RequirePackage{amssymb}
\RequirePackage{amsmath}
\RequirePackage{mathtools}
\RequirePackage{dsfont}
\RequirePackage{ wasysym }

\RequirePackage{tikz}

\RequirePackage{graphicx}
\graphicspath{ {./} }

\RequirePackage{eso-pic}

\pagestyle{empty}

\RequirePackage{phaistos}

\renewcommand\labelitemi{\scalebox{0.9}{\color{green}\PHtunny}}

\setlength{\parindent}{0pt}
\RequirePackage[skip=7pt]{parskip}

%%================================================================%%
%% RZECZY PRZYDATNE
%%================================================================%%

%\DeclareMathOperator{\ker}{ker}
\DeclareMathOperator{\img}{im}

\DeclareMathOperator{\Z}{\mathbb{Z}}
\DeclareMathOperator{\R}{\mathbb{R}}
\DeclareMathOperator{\C}{\mathbb{C}}
\DeclareMathOperator{\N}{\mathbb{N}}

\newcommand{\set}[1]{\mathcal{#1}}


\renewcommand{\@seccntformat}[1]{%
  \ifcsname format#1\endcsname
    \csname format#1\endcsname
  \else
    \csname the#1\endcsname\quad % default
  \fi
}
\let\latexl@section\l@section
\def\l@section#1#2{\begingroup\let\numberline\@gobble\latexl@section{#1}{#2}\endgroup}

\RequirePackage{xparse}
\NewDocumentCommand{\datesec}{o m m}{%
    \renewcommand\thesection{#2}
    \IfNoValueTF{#1}
        {\section{#3}}
        {\section[#1]{#3}}
}

%%================================================================%%
%% KOLORKI
%%================================================================%%

\RequirePackage{xcolor}

\definecolor{red}{HTML}{CB7876}
\definecolor{green}{HTML}{8BA47C}
\definecolor{yellow}{HTML}{E6B12C}
\definecolor{orange}{HTML}{CF7438}
\definecolor{blue}{HTML}{32769B}
\definecolor{purple}{HTML}{8C7DA8}%{64557B}

\RequirePackage{sectsty}

\allsectionsfont{\color{purple}}

\newcommand{\buff}[1]{\textbf{\color{orange}#1}}
\newcommand{\acc}[1]{{\color{blue}\slshape #1}}

%%================================================================%%
%% TWIERDZENIA ETC.
%%================================================================%%

\RequirePackage{amsthm}
\RequirePackage{thmtools}

\newtheoremstyle{definicje}
  {3pt}
  {3pt}
  {}
  {}
  {\color{green}\large\bfseries}
  {\newline}
  {.5em}
  {\thmname{#1}\thmnumber{ #2}\thmnote{ : \textbf{#3}}}

\declaretheorem[
  name=Definicja,
  numberwithin=section,
  style=definicje,
  shaded={bgcolor=yellow!10, rulecolor=green!30!black!20, rulewidth=1pt}
]{definition}

\newtheoremstyle{przykladziki}
  {3pt}
  {3pt}
  {}
  {}
  {\color{green}\large\bfseries}
  {\newline}
  {.5em}
  {\thmname{#1}\thmnumber{ #2}\thmnote{ : \textbf{#3}}}

\declaretheorem[
  name=Przykłady,
  numberwithin=section,
  style=przykladziki
]{ex}

\newenvironment{example}[1][ ]{
    \begin{ex}[#1]{$ $\vspace{-25pt}\\}
    \begin{enumerate}
}{
    \end{enumerate}
    \end{ex}
}


\newtheoremstyle{zadanka}
  {3pt}
  {3pt}
  {\itshape}
  {}
  {\color{red}\large\bfseries}
  {\newline}
  {.5em}
  {\thmname{#1}\thmnumber{ #2}\thmnote{ : \textbf{#3}}}

\declaretheorem[
  name=Problem,
  numberwithin=section,
  style=zadanka,
  %shaded={bgcolor=blue!20, rulecolor=red!30!black!20, rulewidth=1pt}
]{problem}

\newtheoremstyle{rozw_moj}
  {3pt}
  {3pt}
  {}
  {}
  {\color{red}\bfseries}
  {\newline}
  {.5em}
  {\thmname{#1}\thmnumber{ #2}\thmnote{ : \textbf{#3}}}

\declaretheorem[
  name=Rozwiązanko,
  numbered=no,
  style=rozw_moj,
  shaded={bgcolor=black!10, rulecolor=red!30!black!20, rulewidth=1pt}
]{solution}

%%================================================================%%
%% OBRAZKI && DIAGRAMY
%%================================================================%%

\usetikzlibrary{cd, patterns, patterns.meta}

%%================================================================%%
%% TŁO STRON
%%================================================================%%

\DeclareOption{back_on} {
  \AddToShipoutPictureBG{%
  \begin{tikzpicture}[remember picture, overlay]

    \node[inner sep=0pt] at (current page.center) {\includegraphics{/home/marudka/uni-stuff/2023-2024/fajne_tlo.png}};

  \end{tikzpicture}%
  }
}
\ProcessOptions\relax

\endinput
